app:
	cd .. && sudo docker build -t app:v1 . && cd sre

up:
	sudo docker compose up -d

down:
	sudo docker compose down

logs:
	@if [ -z "$(filter-out $@,$(MAKECMDGOALS))" ]; then \
		echo "ğŸ“œ æŸ¥çœ‹æ‰€æœ‰docker composeæœåŠ¡æ—¥å¿—..."; \
		sudo docker compose logs; \
	else \
		SERVICE=$(filter-out $@,$(MAKECMDGOALS)); \
		echo "ğŸ“œ æŸ¥çœ‹ $$SERVICE æœåŠ¡æ—¥å¿—..."; \
		sudo docker compose logs $$SERVICE; \
	fi

.PHONY: app up down logs